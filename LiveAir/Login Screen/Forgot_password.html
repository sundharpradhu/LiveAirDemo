<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password - LiveAi Marketplace</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        .gradient-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .gradient-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        
        .gradient-accent {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        
        .floating-shapes {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        
        .shape {
            position: absolute;
            opacity: 0.1;
            animation: float 6s ease-in-out infinite;
        }
        
        .shape:nth-child(1) {
            top: 15%;
            left: 15%;
            animation-delay: 0s;
        }
        
        .shape:nth-child(2) {
            top: 60%;
            right: 20%;
            animation-delay: 2s;
        }
        
        .shape:nth-child(3) {
            bottom: 25%;
            left: 25%;
            animation-delay: 4s;
        }
        
        .shape:nth-child(4) {
            top: 35%;
            right: 35%;
            animation-delay: 1s;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(180deg);
            }
        }
        
        .reset-container {
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .input-group {
            position: relative;
        }
        
        .input-group input {
            transition: all 0.3s ease;
        }
        
        .input-group input:focus {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }
        
        .step-container {
            min-height: 300px;
        }
        
        .step {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .step.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .success-icon {
            animation: successPulse 2s infinite;
        }
        
        @keyframes successPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 20px;
            border-radius: 12px;
            color: white;
            font-weight: 500;
            z-index: 10000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background: rgba(16, 185, 129, 0.9);
        }
        
        .notification.error {
            background: rgba(239, 68, 68, 0.9);
        }
        
        @media (max-width: 768px) {
            .floating-shapes {
                display: none;
            }
        }
    </style>
</head>
<body class="min-h-screen gradient-primary flex items-center justify-center p-4">
    
    <!-- Floating Background Shapes -->
    <div class="floating-shapes">
        <div class="shape w-20 h-20 bg-white rounded-full"></div>
        <div class="shape w-16 h-16 bg-blue-200 rounded-lg rotate-45"></div>
        <div class="shape w-12 h-12 bg-purple-200 rounded-full"></div>
        <div class="shape w-24 h-24 bg-pink-200 rounded-lg rotate-12"></div>
    </div>
    
    <div class="w-full max-w-md mx-auto">
        <div class="reset-container rounded-2xl p-8 shadow-2xl">
            
            <!-- Header -->
            <div class="text-center mb-8">
                <div class="w-16 h-16 gradient-primary rounded-xl flex items-center justify-center mx-auto mb-4">
                    <i data-lucide="lock" class="w-8 h-8 text-white" id="headerIcon"></i>
                </div>
                <h1 class="text-2xl font-bold text-gray-800 mb-2" id="headerTitle">Reset Password</h1>
                <p class="text-gray-600" id="headerSubtitle">Enter your email to receive reset instructions</p>
            </div>
            
            <div class="step-container">
                
                <!-- Step 1: Email Input -->
                <div class="step active" id="step1">
                    <form id="resetForm" class="space-y-6">
                        <div class="input-group">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                            <div class="relative">
                                <i data-lucide="mail" class="w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"></i>
                                <input 
                                    type="email" 
                                    id="resetEmail"
                                    required 
                                    class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="Enter your registered email"
                                >
                            </div>
                            <p class="text-sm text-gray-500 mt-2">We'll send reset instructions to this email address</p>
                        </div>
                        
                        <button 
                            type="submit" 
                            class="w-full btn-primary text-white font-semibold py-3 px-6 rounded-lg"
                            id="sendResetBtn"
                        >
                            <span id="btnText">Send Reset Link</span>
                            <i data-lucide="loader" class="w-5 h-5 ml-2 animate-spin hidden" id="btnLoader"></i>
                        </button>
                    </form>
                </div>
                
                <!-- Step 2: Success Message -->
                <div class="step" id="step2">
                    <div class="text-center space-y-6">
                        <div class="w-20 h-20 gradient-accent rounded-full flex items-center justify-center mx-auto success-icon">
                            <i data-lucide="mail-check" class="w-10 h-10 text-white"></i>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold text-gray-800 mb-2">Check Your Email</h3>
                            <p class="text-gray-600 mb-4">We've sent password reset instructions to:</p>
                            <p class="font-medium text-gray-800" id="sentToEmail"></p>
                        </div>
                        
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <div class="flex items-start">
                                <i data-lucide="info" class="w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"></i>
                                <div class="text-sm text-blue-800">
                                    <p class="font-medium mb-1">What's next?</p>
                                    <ul class="space-y-1 text-blue-700">
                                        <li>• Check your email inbox</li>
                                        <li>• Click the reset link in the email</li>
                                        <li>• Create your new password</li>
                                        <li>• Sign in with your new credentials</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="space-y-3">
                            <button 
                                type="button"
                                onclick="resendEmail()" 
                                class="w-full border border-gray-300 text-gray-700 font-medium py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors duration-200"
                                id="resendBtn"
                            >
                                Resend Email
                            </button>
                            
                            <div class="text-center">
                                <span class="text-gray-500 text-sm">Didn't receive the email? Check your spam folder or </span>
                                <button type="button" onclick="goBackToStep1()" class="text-blue-600 hover:text-blue-800 text-sm font-medium">
                                    try a different email
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
            
            <!-- Back to Login -->
            <div class="text-center mt-8 pt-6 border-t border-gray-200">
                <p class="text-gray-600 mb-3">Remember your password?</p>
                <a 
                    href="login.html" 
                    class="inline-flex items-center text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200"
                >
                    <i data-lucide="arrow-left" class="w-4 h-4 mr-2"></i>
                    Back to Login
                </a>
            </div>
            
        </div>
        
        <!-- Security Note -->
        <div class="text-center mt-6">
            <div class="flex items-center justify-center text-white text-sm">
                <i data-lucide="shield-check" class="w-4 h-4 mr-2"></i>
                Secure password reset with 256-bit encryption
            </div>
        </div>
    </div>
    
    <script>
        // Initialize Lucide icons
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }
        
        let currentStep = 1;
        let resetEmail = '';
        
        // Reset form submission
        const resetForm = document.getElementById('resetForm');
        resetForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('resetEmail').value;
            
            if (!email) {
                showNotification('Please enter your email address', 'error');
                return;
            }
            
            if (!isValidEmail(email)) {
                showNotification('Please enter a valid email address', 'error');
                return;
            }
            
            resetEmail = email;
            
            // Show loading state
            const btnText = document.getElementById('btnText');
            const btnLoader = document.getElementById('btnLoader');
            const sendBtn = document.getElementById('sendResetBtn');
            
            btnText.textContent = 'Sending...';
            btnLoader.classList.remove('hidden');
            sendBtn.disabled = true;
            
            // Simulate API call
            setTimeout(() => {
                // Reset button state
                btnText.textContent = 'Send Reset Link';
                btnLoader.classList.add('hidden');
                sendBtn.disabled = false;
                
                // Move to success step
                showStep2();
                showNotification('Reset instructions sent successfully', 'success');
            }, 2000);
        });
        
        function showStep2() {
            document.getElementById('step1').classList.remove('active');
            document.getElementById('step2').classList.add('active');
            
            // Update header
            document.getElementById('headerIcon').setAttribute('data-lucide', 'mail-check');
            document.getElementById('headerTitle').textContent = 'Email Sent';
            document.getElementById('headerSubtitle').textContent = 'Check your inbox for reset instructions';
            
            // Show the email address
            document.getElementById('sentToEmail').textContent = resetEmail;
            
            // Reinitialize icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }
        
        function goBackToStep1() {
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step1').classList.add('active');
            
            // Reset header
            document.getElementById('headerIcon').setAttribute('data-lucide', 'lock');
            document.getElementById('headerTitle').textContent = 'Reset Password';
            document.getElementById('headerSubtitle').textContent = 'Enter your email to receive reset instructions';
            
            // Clear form
            document.getElementById('resetEmail').value = '';
            
            // Reinitialize icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }
        
        function resendEmail() {
            const resendBtn = document.getElementById('resendBtn');
            const originalText = resendBtn.textContent;
            
            resendBtn.textContent = 'Sending...';
            resendBtn.disabled = true;
            
            setTimeout(() => {
                resendBtn.textContent = originalText;
                resendBtn.disabled = false;
                showNotification('Reset email resent successfully', 'success');
            }, 1500);
        }
        
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }
        
        // Notification system
        function showNotification(message, type = 'success') {
            const existingNotifications = document.querySelectorAll('.notification');
            existingNotifications.forEach(n => n.remove());
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }
    </script>
    
</body>
</html>